<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OneTouch - ì£¼ë¬¸ì™„ë£Œ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Malgun Gothic', 'Apple SD Gothic Neo', sans-serif;
            background: #f5f7fa;
            color: #333;
        }

        /* í—¤ë” */
        .header {
            background: white;
            border-bottom: 1px solid #e0e0e0;
            padding: 20px 40px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .logo {
            font-size: 28px;
            font-weight: bold;
            color: #1a237e;
            letter-spacing: -1px;
            cursor: pointer;
            text-align: center;
        }
        
        .logo span {
            color: #3949ab;
        }

        /* ì»¨í…Œì´ë„ˆ */
        .container {
            max-width: 800px;
            margin: 40px auto;
            padding: 0 40px;
        }

        /* ìŠ¤í… ì¸ë””ì¼€ì´í„° */
        .steps {
            display: flex;
            justify-content: center;
            margin-bottom: 40px;
        }

        .step {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .step-number {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: #e0e0e0;
            color: #999;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 14px;
        }

        .step.active .step-number,
        .step.completed .step-number {
            background: #1a237e;
            color: white;
        }

        .step-label {
            color: #999;
            font-size: 14px;
        }

        .step.active .step-label,
        .step.completed .step-label {
            color: #1a237e;
            font-weight: 600;
        }

        .step-arrow {
            margin: 0 20px;
            color: #e0e0e0;
            font-size: 18px;
        }

        /* ì™„ë£Œ ë©”ì‹œì§€ */
        .complete-section {
            background: white;
            border-radius: 12px;
            padding: 60px 40px;
            text-align: center;
            margin-bottom: 30px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .complete-icon {
            width: 80px;
            height: 80px;
            background: #1a237e;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 24px;
            font-size: 40px;
            color: white;
        }

        .complete-title {
            font-size: 28px;
            font-weight: bold;
            color: #1a237e;
            margin-bottom: 12px;
        }

        .complete-message {
            font-size: 16px;
            color: #666;
            line-height: 1.6;
            margin-bottom: 30px;
        }

        .order-number {
            display: inline-block;
            padding: 12px 24px;
            background: #f5f7fa;
            border-radius: 8px;
            font-size: 14px;
            color: #666;
        }

        .order-number strong {
            color: #1a237e;
            font-weight: 600;
        }

        /* ì„¹ì…˜ */
        .section {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .section-title {
            font-size: 18px;
            font-weight: bold;
            color: #1a237e;
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 2px solid #1a237e;
        }

        /* ì£¼ë¬¸ ì •ë³´ */
        .info-row {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            font-size: 14px;
            border-bottom: 1px solid #f0f0f0;
        }

        .info-row:last-child {
            border-bottom: none;
        }

        .info-label {
            color: #666;
            font-weight: 500;
        }

        .info-value {
            color: #333;
            font-weight: 600;
            text-align: right;
        }

        /* ì£¼ë¬¸ ìƒí’ˆ */
        .product-item {
            display: flex;
            gap: 16px;
            padding: 20px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .product-item:last-child {
            border-bottom: none;
        }

        .product-image {
            width: 80px;
            height: 80px;
            background: #f5f5f5;
            border-radius: 8px;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid #e0e0e0;
            font-size: 12px;
            color: #999;
        }

        .product-info {
            flex: 1;
        }

        .product-name {
            font-size: 15px;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
        }

        .product-quantity {
            font-size: 13px;
            color: #999;
        }

        .product-price {
            text-align: right;
        }

        .product-price-value {
            font-size: 16px;
            font-weight: bold;
            color: #1a237e;
        }

        /* ê²°ì œ ì •ë³´ */
        .payment-summary {
            background: #f5f7fa;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
        }

        .payment-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            font-size: 14px;
        }

        .payment-row.total {
            padding-top: 16px;
            margin-top: 12px;
            border-top: 2px solid #1a237e;
            font-size: 18px;
            font-weight: bold;
        }

        .payment-row.total .payment-label,
        .payment-row.total .payment-value {
            color: #1a237e;
        }

        /* ë°°ì†¡ ì •ë³´ */
        .address-box {
            background: #f5f7fa;
            padding: 20px;
            border-radius: 8px;
            line-height: 1.8;
            color: #666;
            font-size: 14px;
        }

        .address-box strong {
            color: #333;
            display: block;
            margin-bottom: 8px;
        }

        /* ë²„íŠ¼ */
        .button-group {
            display: flex;
            gap: 12px;
            margin-top: 30px;
        }

        .btn {
            flex: 1;
            padding: 16px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .btn-primary {
            background: #1a237e;
            color: white;
        }

        .btn-primary:hover {
            background: #0d47a1;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(26, 35, 126, 0.3);
        }

        .btn-secondary {
            background: white;
            color: #1a237e;
            border: 2px solid #1a237e;
        }

        .btn-secondary:hover {
            background: #f5f7fa;
        }

        /* ì•ˆë‚´ ë©”ì‹œì§€ */
        .notice-box {
            background: #fff3e0;
            border-left: 4px solid #ffa726;
            padding: 20px;
            border-radius: 8px;
            margin-top: 30px;
        }

        .notice-title {
            font-size: 14px;
            font-weight: 600;
            color: #f57c00;
            margin-bottom: 12px;
        }

        .notice-list {
            font-size: 13px;
            color: #666;
            line-height: 1.8;
            padding-left: 16px;
        }

        .notice-list li {
            margin-bottom: 6px;
        }

        /* ë°˜ì‘í˜• */
        @media (max-width: 768px) {
            .container {
                padding: 0 20px;
            }

            .complete-section {
                padding: 40px 20px;
            }

            .complete-title {
                font-size: 24px;
            }

            .button-group {
                flex-direction: column;
            }

            .steps {
                overflow-x: auto;
                justify-content: flex-start;
            }
        }
    </style>
</head>
<body>
    <!-- í—¤ë” -->
    <header class="header">
        <div class="logo" onclick="goToHome()">
            One<span>Touch</span>
        </div>
    </header>

    <!-- ë©”ì¸ ì»¨í…Œì´ë„ˆ -->
    <div class="container">
        <!-- ìŠ¤í… ì¸ë””ì¼€ì´í„° -->
        <div class="steps">
            <div class="step completed">
                <span class="step-number">âœ“</span>
                <span class="step-label">ì¥ë°”êµ¬ë‹ˆ</span>
            </div>
            <span class="step-arrow">â†’</span>
            <div class="step completed">
                <span class="step-number">âœ“</span>
                <span class="step-label">ì£¼ë¬¸/ê²°ì œ</span>
            </div>
            <span class="step-arrow">â†’</span>
            <div class="step active">
                <span class="step-number">3</span>
                <span class="step-label">ì£¼ë¬¸ì™„ë£Œ</span>
            </div>
        </div>

        <!-- ì™„ë£Œ ë©”ì‹œì§€ -->
        <div class="complete-section">
            <div class="complete-icon">âœ“</div>
            <h1 class="complete-title">ì£¼ë¬¸ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!</h1>
            <p class="complete-message">
                ì£¼ë¬¸í•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.<br>
                ì£¼ë¬¸ ë‚´ì—­ì€ ë§ˆì´í˜ì´ì§€ì—ì„œ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
            </p>
            <div class="order-number">
                ì£¼ë¬¸ë²ˆí˜¸: <strong id="orderNumber"></strong>
            </div>
        </div>

        <!-- ì£¼ë¬¸ ìƒí’ˆ -->
        <div class="section">
            <h2 class="section-title">ì£¼ë¬¸ ìƒí’ˆ</h2>
            <div id="orderProducts">
                <!-- ìƒí’ˆì´ ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
            </div>
        </div>

        <!-- ê²°ì œ ì •ë³´ -->
        <div class="section">
            <h2 class="section-title">ê²°ì œ ì •ë³´</h2>
            <div class="info-row">
                <span class="info-label">ê²°ì œ ìˆ˜ë‹¨</span>
                <span class="info-value" id="paymentMethod"></span>
            </div>
            <div class="info-row">
                <span class="info-label">ê²°ì œ ì¼ì‹œ</span>
                <span class="info-value" id="paymentDate"></span>
            </div>
            
            <div class="payment-summary">
                <div class="payment-row">
                    <span class="payment-label">ìƒí’ˆê¸ˆì•¡</span>
                    <span class="payment-value" id="productTotal"></span>
                </div>
                <div class="payment-row">
                    <span class="payment-label">ë°°ì†¡ë¹„</span>
                    <span class="payment-value" id="deliveryFee"></span>
                </div>
                <div class="payment-row total">
                    <span class="payment-label">ì´ ê²°ì œê¸ˆì•¡</span>
                    <span class="payment-value" id="totalAmount"></span>
                </div>
            </div>
        </div>

        <!-- ì£¼ë¬¸ì ì •ë³´ -->
        <div class="section">
            <h2 class="section-title">ì£¼ë¬¸ì ì •ë³´</h2>
            <div class="info-row">
                <span class="info-label">ì´ë¦„</span>
                <span class="info-value" id="ordererName"></span>
            </div>
            <div class="info-row">
                <span class="info-label">ì´ë©”ì¼</span>
                <span class="info-value" id="ordererEmail"></span>
            </div>
            <div class="info-row">
                <span class="info-label">íœ´ëŒ€í°</span>
                <span class="info-value" id="ordererPhone"></span>
            </div>
        </div>

        <!-- ë°°ì†¡ì§€ ì •ë³´ -->
        <div class="section">
            <h2 class="section-title">ë°°ì†¡ì§€ ì •ë³´</h2>
            <div class="address-box">
                <strong id="recipientInfo"></strong>
                <div id="deliveryAddress"></div>
                <div id="deliveryRequest"></div>
            </div>
        </div>

        <!-- ë²„íŠ¼ ê·¸ë£¹ -->
        <div class="button-group">
            <button class="btn btn-secondary" onclick="goToCart()">ğŸ›’ ì¥ë°”êµ¬ë‹ˆ</button>
            <button class="btn btn-primary" onclick="goToHome()">ğŸ  ë©”ì¸ìœ¼ë¡œ</button>
        </div>

        <!-- ì•ˆë‚´ ë©”ì‹œì§€ -->
        <div class="notice-box">
            <div class="notice-title">ğŸ“Œ ë°°ì†¡ ì•ˆë‚´</div>
            <ul class="notice-list">
                <li>ì£¼ë¬¸í•˜ì‹  ìƒí’ˆì€ ì˜ì—…ì¼ ê¸°ì¤€ 2-3ì¼ ë‚´ ë°°ì†¡ë©ë‹ˆë‹¤.</li>
                <li>ë°°ì†¡ ì‹œì‘ ì‹œ SMSì™€ ì´ë©”ì¼ë¡œ ì•ˆë‚´í•´ ë“œë¦½ë‹ˆë‹¤.</li>
                <li>ë°°ì†¡ ì¡°íšŒëŠ” ë§ˆì´í˜ì´ì§€ > ì£¼ë¬¸/ë°°ì†¡ ì¡°íšŒì—ì„œ ê°€ëŠ¥í•©ë‹ˆë‹¤.</li>
                <li>êµí™˜/ë°˜í’ˆì€ ìƒí’ˆ ìˆ˜ë ¹ í›„ 7ì¼ ì´ë‚´ì— ê°€ëŠ¥í•©ë‹ˆë‹¤.</li>
                <li>ë°°ì†¡ ê´€ë ¨ ë¬¸ì˜ëŠ” ê³ ê°ì„¼í„°(1234-5678)ë¡œ ì—°ë½ ì£¼ì„¸ìš”.</li>
            </ul>
        </div>
    </div>

    <script>
        // ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            loadOrderInfo();
        });

        // ì£¼ë¬¸ ì •ë³´ ë¡œë“œ
        function loadOrderInfo() {
            // URL íŒŒë¼ë¯¸í„°ì—ì„œ ì •ë³´ ê°€ì ¸ì˜¤ê¸° (ì‹¤ì œ í† ìŠ¤í˜ì´ë¨¼ì¸  ì½œë°±)
            const urlParams = new URLSearchParams(window.location.search);
            const orderId = urlParams.get('orderId');
            const paymentKey = urlParams.get('paymentKey');
            const amount = urlParams.get('amount');

            // localStorageì—ì„œ ì£¼ë¬¸ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
            const orderInfo = JSON.parse(localStorage.getItem('currentOrder'));

            if (!orderInfo && !orderId) {
                // ìƒ˜í”Œ ë°ì´í„°ë¡œ í‘œì‹œ
                displaySampleOrder();
                return;
            }

            if (orderInfo) {
                displayOrderInfo(orderInfo);
            }

            // ì‹¤ì œë¡œëŠ” ì„œë²„ì— ê²°ì œ ìŠ¹ì¸ ìš”ì²­
            if (paymentKey && orderId && amount) {
                console.log('ê²°ì œ ìŠ¹ì¸ ìš”ì²­:', { paymentKey, orderId, amount });
                // ì—¬ê¸°ì„œ ì„œë²„ì— ê²°ì œ ìŠ¹ì¸ API í˜¸ì¶œ
            }
        }

        // ì£¼ë¬¸ ì •ë³´ í‘œì‹œ
        function displayOrderInfo(orderInfo) {
            // ì£¼ë¬¸ë²ˆí˜¸
            document.getElementById('orderNumber').textContent = orderInfo.orderId;

            // ì£¼ë¬¸ ìƒí’ˆ
            const productsHtml = orderInfo.products.map(product => {
                const totalPrice = product.price * product.quantity;
                return `
                    <div class="product-item">
                        <div class="product-image">ìƒí’ˆ</div>
                        <div class="product-info">
                            <div class="product-name">${product.name}</div>
                            <div class="product-quantity">ìˆ˜ëŸ‰: ${product.quantity}ê°œ</div>
                        </div>
                        <div class="product-price">
                            <div class="product-price-value">${totalPrice.toLocaleString()}ì›</div>
                        </div>
                    </div>
                `;
            }).join('');
            document.getElementById('orderProducts').innerHTML = productsHtml;

            // ê²°ì œ ì •ë³´
            const paymentMethodNames = {
                'CARD': 'í† ìŠ¤í˜ì´ë¨¼ì¸  (ì¹´ë“œ)',
                'TRANSFER': 'í† ìŠ¤í˜ì´ë¨¼ì¸  (ê³„ì¢Œì´ì²´)',
                'VIRTUAL_ACCOUNT': 'í† ìŠ¤í˜ì´ë¨¼ì¸  (ê°€ìƒê³„ì¢Œ)',
                'MOBILE_PHONE': 'í† ìŠ¤í˜ì´ë¨¼ì¸  (íœ´ëŒ€í°)'
            };
            document.getElementById('paymentMethod').textContent = paymentMethodNames[orderInfo.payment.method] || 'í† ìŠ¤í˜ì´ë¨¼ì¸ ';
            document.getElementById('paymentDate').textContent = formatDateTime(orderInfo.timestamp);

            // ê²°ì œ ê¸ˆì•¡
            const productTotal = orderInfo.products.reduce((sum, p) => sum + (p.price * p.quantity), 0);
            const deliveryFee = productTotal >= 50000 ? 0 : 3000;
            const totalAmount = productTotal + deliveryFee;

            document.getElementById('productTotal').textContent = productTotal.toLocaleString() + 'ì›';
            document.getElementById('deliveryFee').textContent = deliveryFee === 0 ? 'ë¬´ë£Œ' : deliveryFee.toLocaleString() + 'ì›';
            document.getElementById('totalAmount').textContent = totalAmount.toLocaleString() + 'ì›';

            // ì£¼ë¬¸ì ì •ë³´
            document.getElementById('ordererName').textContent = orderInfo.customer.name;
            document.getElementById('ordererEmail').textContent = orderInfo.customer.email;
            document.getElementById('ordererPhone').textContent = orderInfo.customer.phone;

            // ë°°ì†¡ì§€ ì •ë³´
            document.getElementById('recipientInfo').textContent = 
                `${orderInfo.recipient.name} | ${orderInfo.recipient.phone}`;
            document.getElementById('deliveryAddress').innerHTML = 
                `(${orderInfo.recipient.zipCode}) ${orderInfo.recipient.address}<br>${orderInfo.recipient.addressDetail}`;
            
            if (orderInfo.recipient.deliveryRequest) {
                document.getElementById('deliveryRequest').innerHTML = 
                    `<div style="margin-top: 8px; color: #1a237e;">ë°°ì†¡ ìš”ì²­: ${orderInfo.recipient.deliveryRequest}</div>`;
            }

            // ì£¼ë¬¸ ì™„ë£Œ í›„ ì¥ë°”êµ¬ë‹ˆ ë¹„ìš°ê¸°
            localStorage.removeItem('cart');
        }

        // ìƒ˜í”Œ ì£¼ë¬¸ í‘œì‹œ
        function displaySampleOrder() {
            const sampleOrder = {
                orderId: 'ORDER_' + Date.now(),
                products: [
                    {
                        name: 'íˆì•„ë£¨ë¡ ì‚° ìˆ˜ë¶„ ë³´ìŠµ ì„¸ëŸ¼',
                        quantity: 2,
                        price: 31500
                    }
                ],
                customer: {
                    name: 'í™ê¸¸ë™',
                    email: 'hong@email.com',
                    phone: '010-1234-5678'
                },
                recipient: {
                    name: 'í™ê¸¸ë™',
                    phone: '010-1234-5678',
                    zipCode: '06234',
                    address: 'ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123',
                    addressDetail: '101ë™ 1001í˜¸',
                    deliveryRequest: 'ë¶€ì¬ì‹œ ë¬¸ì•ì— ë†“ì•„ì£¼ì„¸ìš”'
                },
                payment: {
                    method: 'CARD',
                    amount: 63000
                },
                timestamp: new Date().toISOString()
            };

            displayOrderInfo(sampleOrder);
        }

        // ë‚ ì§œ/ì‹œê°„ í¬ë§·
        function formatDateTime(timestamp) {
            const date = new Date(timestamp);
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            const hours = String(date.getHours()).padStart(2, '0');
            const minutes = String(date.getMinutes()).padStart(2, '0');
            
            return `${year}.${month}.${day} ${hours}:${minutes}`;
        }

        // ì¥ë°”êµ¬ë‹ˆë¡œ ì´ë™
        function goToCart() {
            alert('ì¥ë°”êµ¬ë‹ˆ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.');
            // window.location.href = 'onetouch-cart.html';
        }

        // ë©”ì¸ìœ¼ë¡œ ì´ë™
        function goToHome() {
            window.location.href = 'onetouch-main.html';
        }
    </script>
</body>
</html>